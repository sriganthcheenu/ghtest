Github Actions Important Featutres:
- workflows
  Attached to a repository and define automated processes.
  Contains one or more jobs.
  Triggered by events (e.g., push, pull request) or scheduled times.
- Jobs
  A job is a set of steps that execute on the same runner. [Runners are servers that run your workflows.]
  Can run sequentially or in parallel.
  Can also set conditions for job execution.
- Steps
  A step is an individual task within a job.
  Can run commands or use actions (predefined tasks) [Shell script or an action].
  Can use custom or marketplace actions.
  Steps run in the order they are defined.
  can be conditional based on the success or failure of previous steps.

Hierarchy:
- Code Repository -> Workflows -> Jobs -> Steps

Github Actions Billing:
- Free for public repositories.
- Private repositories have a free tier with limits on minutes and storage.
- https://docs.github.com/en/billing/concepts/product-billing/github-actions

Enabling Github Actions:
- Go to the repository on GitHub.
- Click on the "Settings" tab.
- In the left sidebar, click on "Actions" under "Code and automation".
- Ensure that "Allow all actions" is selected to enable GitHub Actions for the repository.
- You can also configure specific permissions and settings for workflows and actions in this section.

Workflow File Location:
- Workflow files are stored in the `.github/workflows/` directory of your repository. 
- Each workflow is defined in a separate YAML file with a `.yml` or `.yaml` extension.

Creating a Basic Workflow:
- Create a new file in the `.github/workflows/` directory, e.g., `ci.yml`.
- Define the workflow using YAML syntax. For example:

```yaml
name: First Workflow
on: workflow_dispatch  # Trigger manually
# on: [push, pull_request]  # Trigger on push or pull request
jobs:
  first-job:
    runs-on: ubuntu-latest # Specify the runner environment
    steps:
      - name: Print Greeting
        run: echo "Hello World"
      - name: Print GoodBye
        run: echo "Goodbye World"
```
Event Workflow Triggers:
  Repository Related Events:
    - `push`: Triggered when code is pushed to the repository. Syntax: `on: push`
    - `pull_request`: Triggered when a pull request is opened, synchronized, or reopened. Syntax: `on: pull_request`
    - `release`: Triggered when a release is published, unpublished, created, edited, or deleted. Syntax: `on: release`
    - `issue_comment`: Triggered when a comment is created on an issue or pull request. Syntax: `on: issue_comment`
    - `fork`: Triggered when a repository is forked. Syntax: `on: fork`
    - `watch`: Triggered when someone stars the repository. Syntax: `on: watch`
    - `create`: Triggered when a branch or tag is created. Syntax: `on: create`
    - `delete`: Triggered when a branch or tag is deleted. Syntax: `on: delete`
    - `deployment`: Triggered when a deployment is created. Syntax: `on: deployment`
    - `deployment_status`: Triggered when the status of a deployment changes. Syntax: `on: deployment_status`
    - `pull_request_review`: Triggered when a review is submitted on a pull request. Syntax: `on: pull_request_review`
    - `pull_request_review_comment`: Triggered when a comment is created on a pull request review. Syntax: `on: pull_request_review_comment`
  Other Event Triggers:
    - `workflow_dispatch`: Triggered manually via the GitHub Actions tab. Syntax: `on: workflow_dispatch`
    - `repository_dispatch`: Triggered by an external event via the GitHub API. Syntax: `on: repository_dispatch`
    - `workflow_call`: Triggered by another workflow. Syntax: `on: workflow_call`
    - `schedule`: Triggered at scheduled times using cron syntax. Syntax: 
      ```yaml
      on:
        schedule:
          - cron: '0 0 * * *' # Runs daily at midnight
      ```
  
  Actions:
    - Predefined tasks that can be used in workflows.
    - Can be created by the community and shared on the GitHub Marketplace.
    - Examples include actions for checking out code, setting up programming languages, running tests, and deploying applications.
    - To use an action, specify it in a step using the `uses` keyword, e.g.:
      ```yaml
      steps:
        - name: Checkout code
          uses: actions/checkout@v2 # https://github.com/marketplace?type=actions
      ```

Jobs Run as Sequential or Parallel:
- By default, jobs run in parallel.
- To run jobs sequentially, use the `needs` keyword to specify dependencies between jobs.
Example Deploy Workflow with Parallel and Sequential Jobs:
```yaml
name: Deploy Workflow
on: push
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Get Code
        uses: actions/checkout@v3
      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install Dependencies
        run: npm ci
      - name: Run Tests
        run: npm test
  deploy:
    runs-on: ubuntu-latest
    needs: test  # This job will run only after the 'test' job completes successfully
    steps:
      - name: Get Code
        uses: actions/checkout@v3
      - name: Install Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install Dependencies
        run: npm ci
      - name: Build Application
        run: npm run build
      - name: Deploy Application
        run: echo "Deploying application..."
```

Multiple triggers in a Workflow:
- You can specify multiple events to trigger a workflow by using a list under the `on` key.
Example:
```yaml
name: Multi-Trigger Workflow
# on: [push, pull_request]  # Trigger on push or pull request
on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main  
jobs:
  build:    
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm test 
```

Expressions and Contexts:
- GitHub Actions supports expressions that allow you to create dynamic and conditional workflows.
- Expressions are enclosed in `${{ }}` and can be used in various parts of the workflow, such as job conditions, step conditions, and environment variables.
Example:
```yaml
name: Conditional Workflow
on: push
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18
      - name: Install dependencies
        run: npm ci
      - name: Run tests
        run: npm test
      - name: Deploy if on main branch
        if: ${{ github.ref == 'refs/heads/main' }}
        run: echo "Deploying application..."
```
